<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CoreDataManagerLogic Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/CoreDataManagerLogic" class="dashAnchor"></a>

    <a title="CoreDataManagerLogic Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          INCoreData
        </a>
         (94% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/indieSoftware/INCoreData">
            <img class="header-icon" src="../img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">INCoreData Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      CoreDataManagerLogic Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CoreDataManagerLogic.html">CoreDataManagerLogic</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/CoreDataManagerError.html">CoreDataManagerError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ManagedObjectChangeType.html">ManagedObjectChangeType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSManagedObject.html">NSManagedObject</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/CoreDataManager.html">CoreDataManager</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ManagedNotification.html">ManagedNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ManagedObjectChange.html">ManagedObjectChange</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ManagedObjectsChange.html">ManagedObjectsChange</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>CoreDataManagerLogic</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">CoreDataManagerLogic</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/CoreDataManager.html">CoreDataManager</a></span></code></pre>

                </div>
              </div>
            <p>Undocumented</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB12ManagerLogicC07defaultB9ModelNameSSvpZ"></a>
                    <a name="//apple_ref/swift/Variable/defaultDataModelName" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB12ManagerLogicC07defaultB9ModelNameSSvpZ">defaultDataModelName</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The default name of a data model, equals &ldquo;DataModel&rdquo;.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">defaultDataModelName</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB12ManagerLogicC11useInMemoryACSb_tcfc"></a>
                    <a name="//apple_ref/swift/Method/init(useInMemory:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB12ManagerLogicC11useInMemoryACSb_tcfc">init(useInMemory:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Default initializer of the manager. Call <code>setup</code> afterwards.</p>

<p>Before using the manager the <code>setup</code> method must be called once.</p>

<p>When using an instance for previews</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">useInMemory</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>useInMemory</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Pass true to use an in-memory persistence stack for this manager
suitable for Previews and UnitTests,  rather than a &ldquo;real&rdquo; one. Defaults to <code>false</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB12ManagerLogicC5setup13dataModelName6bundle11storeFolder10completionySS_So8NSBundleC10Foundation3URLVys6ResultOyytAA0cbD5ErrorOGctF"></a>
                    <a name="//apple_ref/swift/Method/setup(dataModelName:bundle:storeFolder:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB12ManagerLogicC5setup13dataModelName6bundle11storeFolder10completionySS_So8NSBundleC10Foundation3URLVys6ResultOyytAA0cbD5ErrorOGctF">setup(dataModelName:<wbr>bundle:<wbr>storeFolder:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets up this mananger with a persistence stack on disk.</p>

<p>This must be called exactly once and before calling any other methods of the manager.
Calling this method will create the necessary folders and files for persistence and
potentially migrate any previous stores if necessary.
That might take some unpredictable time, so call this method in the life-cycle of the app
when it&rsquo;s appropriate for the user to wait for some time, i.e. when showing a splash screen.</p>

<p>When the init method&rsquo;s parameter <code>useInMemory</code> was set to <code>true</code>
then an in-memory persistence stack will be created instead.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">(</span>
	<span class="nv">dataModelName</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n"><a href="../Classes/CoreDataManagerLogic.html#/s:10INCoreData04CoreB12ManagerLogicC07defaultB9ModelNameSSvpZ">defaultDataModelName</a></span><span class="p">,</span>
	<span class="nv">bundle</span><span class="p">:</span> <span class="kt">Bundle</span> <span class="o">=</span> <span class="o">.</span><span class="n">main</span><span class="p">,</span>
	<span class="nv">storeFolder</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span>
	<span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">Void</span><span class="p">,</span> <span class="kt"><a href="../Enums/CoreDataManagerError.html">CoreDataManagerError</a></span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span>
<span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>dataModelName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the CoreData model which is the file name of the <code>xcdatamodeld</code> file,
e.g. &ldquo;DataModel&rdquo;.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>bundle</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The bundle where to find the data model, e.g. &ldquo;main&rdquo;.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>storeFolder</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The relative folder path where to persist the store.
Usually this will be a new sub-folder in the documents folder.
The folder doesn&rsquo;t have to exist and will be created automatically.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The completion block which will be called on the main thread
when the stack has been initialized and any data model potentially migrated.
The returned <code>Result</code> will indicate a success when the model could be created or a failure with the error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB12ManagerLogicC13dataModelName6bundle10completionACSS_So8NSBundleCySo28NSPersistentStoreCoordinatorC_So22NSManagedObjectContextCALSo0L9ContainerCtctcfc"></a>
                    <a name="//apple_ref/swift/Method/init(dataModelName:bundle:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB12ManagerLogicC13dataModelName6bundle10completionACSS_So8NSBundleCySo28NSPersistentStoreCoordinatorC_So22NSManagedObjectContextCALSo0L9ContainerCtctcfc">init(dataModelName:<wbr>bundle:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Alternative initializer to use an in-memory persistence stack
suitable for Previews or UnitTests of apps using this library.</p>

<p>This initializer already sets up the manager, therefore, calling <code>setup</code> is not necessary and even forbidden.
It should only be used for injecting an in-memory manager to tests or Previews.
It&rsquo;s not intended to use this for productive code.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">convenience</span> <span class="nf">init</span><span class="p">(</span>
	<span class="nv">dataModelName</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n"><a href="../Classes/CoreDataManagerLogic.html#/s:10INCoreData04CoreB12ManagerLogicC07defaultB9ModelNameSSvpZ">defaultDataModelName</a></span><span class="p">,</span>
	<span class="nv">bundle</span><span class="p">:</span> <span class="kt">Bundle</span> <span class="o">=</span> <span class="o">.</span><span class="n">main</span><span class="p">,</span>
	<span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span>
		<span class="n">_</span> <span class="nv">persistentStoreCoordinator</span><span class="p">:</span> <span class="kt">NSPersistentStoreCoordinator</span><span class="p">,</span>
		<span class="n">_</span> <span class="nv">mainContext</span><span class="p">:</span> <span class="kt">NSManagedObjectContext</span><span class="p">,</span>
		<span class="n">_</span> <span class="nv">privateContext</span><span class="p">:</span> <span class="kt">NSManagedObjectContext</span><span class="p">,</span>
		<span class="n">_</span> <span class="nv">container</span><span class="p">:</span> <span class="kt">NSPersistentContainer</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span>
<span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>dataModelName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the CoreData model which is the file name of the <code>xcdatamodeld</code> file.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>bundle</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The bundle where to find the data model. Default to the main bundle.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The completion handler which gets called when the in-memory store has been created
and can be used.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>persistentStoreCoordinator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The created persistent store coordinator.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>mainContext</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The created main context.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>privateContext</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The created private background context.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>container</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The created container.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB7ManagerP11mainContextSo015NSManagedObjectF0Cvp"></a>
                    <a name="//apple_ref/swift/Property/mainContext" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB7ManagerP11mainContextSo015NSManagedObjectF0Cvp">mainContext</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">mainContext</span><span class="p">:</span> <span class="kt">NSManagedObjectContext</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB7ManagerP16createNewContextSo015NSManagedObjectG0CyF"></a>
                    <a name="//apple_ref/swift/Method/createNewContext()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB7ManagerP16createNewContextSo015NSManagedObjectG0CyF">createNewContext()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">createNewContext</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">NSManagedObjectContext</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB7ManagerP7persistyyF"></a>
                    <a name="//apple_ref/swift/Method/persist()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB7ManagerP7persistyyF">persist()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">persist</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10INCoreData04CoreB7ManagerP7persist21fromBackgroundContextySo015NSManagedObjectH0C_tKF"></a>
                    <a name="//apple_ref/swift/Method/persist(fromBackgroundContext:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10INCoreData04CoreB7ManagerP7persist21fromBackgroundContextySo015NSManagedObjectH0C_tKF">persist(fromBackgroundContext:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">persist</span><span class="p">(</span><span class="n">fromBackgroundContext</span> <span class="nv">backgroundContext</span><span class="p">:</span> <span class="kt">NSManagedObjectContext</span><span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://github.com/indieSoftware/INCoreData" target="_blank" rel="external noopener">indie-Software</a>. All rights reserved. (Last updated: 2022-06-19)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
